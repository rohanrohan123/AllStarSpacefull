{"version":3,"sources":["components/header/Header.jsx","components/post/Post.jsx","components/posts/Posts.jsx","components/sidebar/Sidebar.jsx","context/Reducer.js","context/context.js","components/topbar/Topbar.jsx","pages/homepage/Homepage.jsx","pages/login/Login.jsx","components/singlePost/SinglePost.jsx","pages/single/Single.jsx","pages/write/Write.jsx","App.jsx","index.js"],"names":["Header","className","src","alt","Post","post","photo","categories","map","c","name","to","_id","title","Date","createdAt","toDateString","desc","Posts","posts","p","Sidebar","Reducer","state","action","type","user","isFetching","error","payload","INITIAL_STATE","JSON","parse","localStorage","getItem","Context","createContext","ContextProvider","children","useReducer","dispatch","useEffect","setItem","stringify","Provider","value","Topbar","useContext","onClick","Homepage","useState","setPosts","search","useLocation","fetchPosts","a","axios","get","pack","proxy","res","data","Login","userRef","useRef","passwordRef","handleSubmit","e","preventDefault","username","current","password","onSubmit","placeholder","ref","disabled","SinglePost","path","pathname","split","setPost","setTitle","setDesc","updateMode","setUpdateMode","getPost","handleDelete","delete","window","location","replace","handleUpdate","put","autoFocus","onChange","target","Single","Write","file","setFile","newPost","FormData","filename","now","append","URL","createObjectURL","htmlFor","id","style","display","files","App","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.76dff8b0.chunk.js","sourcesContent":["import \"./header.css\";\n\nexport default function Header() {\n  return (\n    <div className=\"header\">\n      <div className=\"headerTitles\">\n        <span className=\"headerTitleSm\"></span>\n        <span className=\"headerTitleLg\">BLOG</span>\n      </div>\n      <img\n        className=\"headerImg\"\n        src=\"https://images.pexels.com/photos/262508/pexels-photo-262508.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500\"\n        alt=\"\"\n      />\n    </div>\n  );\n}\n\n","import { Link } from \"react-router-dom\";\nimport \"./post.css\";\n\nexport default function Post({ post }) {\n  const PF=\"http://44.202.13.47:8000/images/\"\n  return (\n    <div className=\"post\">\n      {post.photo && (\n        <img\n          className=\"postImg\"\n          src={PF+post.photo}\n          alt=\"\"\n        />\n      )}\n      <div className=\"postInfo\">\n        <div className=\"postCats\">\n            {post.categories.map(c => (\n              <span className=\"postCat\">{c.name}</span>\n            ))}\n        </div>\n        <Link to={`/post/${post._id}`} className=\"link\">\n        <span className=\"postTitle\">\n          {post.title}\n          \n        </span>\n        </Link>\n      \n        <hr />\n        <span className=\"postDate\">{new Date(post.createdAt).toDateString()}</span>\n      </div>\n      <p className=\"postDesc\">\n        {post.desc}\n      </p>\n    </div>\n  );\n}\n","import Post from \"../post/Post\";\nimport \"./posts.css\";\n\nexport default function Posts({posts}) {\n//  var p=10\n  return (\n    <div className=\"posts\">\n    {posts.map(p=>(\n      <Post post={p} />\n    ))}\n    </div>\n  );\n}","//import axios from 'axios';\n//import { useState, useEffect } from 'react'\n//import { Link } from \"react-router-dom\";\nimport \"./sidebar.css\";\n\nexport default function Sidebar() {\n  // const [cats, setCats] = useState([])\n\n  // useEffect(() => {\n  //   const getCats = async () => \n  //   {\n  //     const res = await axios.get(\"/category\")\n  //     setCats(res.data)\n  //   }\n  //   getCats()\n  // })\n\n\n\n  return (\n    <div className=\"sidebar\">\n      {/* <div className=\"sidebarItem\">\n        <span className=\"sidebarTitle\">ABOUT ME</span>\n         <img\n          src=\"https://themegoods-cdn-pzbycso8wng.stackpathdns.com/grandblog/demo/wp-content/uploads/2015/11/aboutme.jpg\"\n          alt=\"\"\n        />\n        <p>\n          Laboris sunt aute cupidatat velit magna velit ullamco dolore mollit\n          amet ex esse.Sunt eu ut nostrud id quis proident.\n        </p> \n      </div> */}\n      {/* <div className=\"sidebarItem\">\n        <span className=\"sidebarTitle\">CATEGORIES</span>\n        <ul className=\"sidebarList\">\n\n          {cats.map((c) => (\n            <Link className =\"link\" to={`/?cat=${c.name}`}>\n            <li className=\"sidebarListItem\">{c.name}</li>\n            </Link>\n          ))}\n\n        </ul>\n      </div> */}\n       {/* <div className=\"sidebarItem\">\n        <span className=\"sidebarTitle\">FOLLOW US</span>\n        <div className=\"sidebarSocial\">\n          <i className=\"sidebarIcon fab fa-facebook-square\"></i>\n          <i className=\"sidebarIcon fab fa-instagram-square\"></i>\n          <i className=\"sidebarIcon fab fa-pinterest-square\"></i>\n          <i className=\"sidebarIcon fab fa-twitter-square\"></i>\n        </div>\n      </div> */}\n    </div>\n  );\n}\n","const Reducer = (state, action) => {\r\n    switch (action.type) {\r\n      case \"LOGIN_START\":\r\n        return {\r\n          user: null,\r\n          isFetching: true,\r\n          error: false,\r\n        };\r\n      case \"LOGIN_SUCCESS\":\r\n        return {\r\n          user: action.payload,\r\n          isFetching: false,\r\n          error: false,\r\n        };\r\n      case \"LOGIN_FAILURE\":\r\n        return {\r\n          user: null,\r\n          isFetching: false,\r\n          error: true,\r\n        };\r\n        case \"UPDATE_START\":\r\n          return {\r\n            ...state,\r\n            isFetching:true\r\n          };\r\n        case \"UPDATE_SUCCESS\":\r\n          return {\r\n            user: action.payload,\r\n            isFetching: false,\r\n            error: false,\r\n          };\r\n        case \"UPDATE_FAILURE\":\r\n          return {\r\n            user: state.user,\r\n            isFetching: false,\r\n            error: true,\r\n          };\r\n      case \"LOGOUT\":\r\n        return {\r\n          user: null,\r\n          isFetching: false,\r\n          error: false,\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  \r\nexport default Reducer;\r\n  ","import { createContext, useEffect, useReducer } from \"react\";\r\nimport Reducer from \"./Reducer\";\r\n\r\nconst INITIAL_STATE = {\r\n  user: JSON.parse(localStorage.getItem(\"user\")) || null,\r\n  isFetching: false,\r\n  error: false,\r\n};\r\n\r\nexport const Context = createContext(INITIAL_STATE);\r\n\r\nexport const ContextProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(Reducer, INITIAL_STATE);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\r\n  }, [state.user]);\r\n\r\n  return (\r\n    <Context.Provider\r\n      value={{\r\n        user: state.user,\r\n        isFetching: state.isFetching,\r\n        error: state.error,\r\n        dispatch,\r\n      }}\r\n    >\r\n      {children}\r\n    </Context.Provider>\r\n  );\r\n};\r\n","import { Link } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { Context } from \"../../context/context\"\nimport \"./topbar.css\";\n\nexport default function Topbar() {\n  const { user, dispatch } = useContext(Context)\n  const pf = \"http://localhost:8000/images/\"\n  const handleLogout = () => {\n    dispatch({ type: \"LOGOUT\" })\n  }\n  return (\n    <div className=\"top\">\n      {/* <div className=\"topLeft\">\n        <i className=\"topIcon fab fa-facebook-square\"></i>\n        <i className=\"topIcon fab fa-instagram-square\"></i>\n        <i className=\"topIcon fab fa-pinterest-square\"></i>\n        <i className=\"topIcon fab fa-twitter-square\"></i>\n      </div> */}\n      <div className=\"topCenter\">\n        <ul className=\"topList\">\n          <li className=\"topListItem\">\n            <Link className=\"link\" to=\"/\">\n              HOME\n            </Link>\n          </li>\n          {/* <li className=\"topListItem\">ABOUT</li>\n          <li className=\"topListItem\">CONTACT</li> */}\n          <li className=\"topListItem\">\n            <Link className=\"link\" to=\"/write\">\n              WRITE\n            </Link>\n          </li>\n          <li className=\"topListItem\" onClick={handleLogout}> {user && \"LOGOUT\"}</li>\n\n        </ul>\n      </div>\n      {/* <div className=\"topRight\">\n        {user ? (\n          <Link className=\"link\" to=\"/settings\">\n            <img\n              className=\"topImg\"\n              src={pf + user.profilePic}\n              alt=\"\"\n            />\n          </Link>\n        ) : (\n          <ul className=\"topList\">\n            <li className=\"topListItem\">\n              <Link className=\"link\" to=\"/allstar\">\n                LOGIN\n              </Link>\n            </li>\n            <li className=\"topListItem\">\n              <Link className=\"link\" to=\"/register\">\n                REGISTER\n              </Link>\n            </li>\n          </ul>\n        )}\n        <i className=\"topSearchIcon fas fa-search\"></i>\n      </div> */}\n    </div>\n  );\n}\n","import axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router\";\nimport Header from \"../../components/header/Header\";\nimport Posts from \"../../components/posts/Posts\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport \"./homepage.css\";\nimport Topbar from \"../../components/topbar/Topbar\";\nimport pack from \"../../../package.json\";\nexport default function Homepage() {\nconst [posts, setPosts] = useState([])\nconst { search } = useLocation();\n\n useEffect(() => {\n  const fetchPosts = async () => {\n  const res = await axios.get(`${pack.proxy}post` + search)\n  setPosts(res.data)\n  }\n    fetchPosts()\n  }, [search])\n\n  return (\n    <>\n    <Topbar />\n      <Header />\n      <div className=\"home\">\n        <Posts posts={posts} />\n        {/* <Sidebar /> */}\n      </div>\n    </>\n  );\n}\n","import \"./login.css\";\nimport { Context } from \"../../context/context\";\nimport { useContext, useRef } from \"react\";\nimport axios from \"axios\";\nimport pack from \"../../../package.json\"\nexport default function Login() {\n  \n  const userRef = useRef()\n  const passwordRef = useRef()\n  const { dispatch, isFetching } = useContext(Context)\n\n  const handleSubmit = async (e) => {\n\n    e.preventDefault();\n    dispatch({ type: \"LOGIN_START\" });\n    try {\n      const res = await axios.post(`${pack.proxy}auth/Login`, {\n        username: userRef.current.value,\n        password: passwordRef.current.value\n\n\n      })\n      dispatch({type:\"LOGIN_SUCCESS\",payload:res.data})\n    } catch (error) {\n      dispatch({type:\"LOGIN_FAIL\"})\n    }\n  }\n  \n  return (\n    <div className=\"card\">\n    <div className=\"login\">\n      <span className=\"loginTitle\">Login</span>\n      <form className=\"loginForm\" onSubmit={handleSubmit}>\n        <label>Username</label>\n        <input className=\"loginInput\" type=\"text\" placeholder=\"Enter your username...\"\n          ref={userRef}\n        />\n        <label>Password</label>\n        <input className=\"loginInput\" type=\"password\" placeholder=\"Enter your password...\"\n\n          ref={passwordRef}\n        />\n        <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>Login</button>\n      </form>\n      {/* <button className=\"loginRegisterButton\">Register</button> */}\n    </div>\n    </div>\n  );\n}\n","import axios from \"axios\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { Context } from \"../../context/context\";\nimport \"./singlePost.css\";\n// import Topbar from \"../topbar/Topbar\";\nimport pack from \"../../../package.json\"\nexport default function SinglePost() {\n  const location = useLocation();\n  const path = location.pathname.split(\"/\")[2];\n  const [post, setPost] = useState({});\n  const PF = \"http://44.202.13.47:8000/images/\";\n  const { user } = useContext(Context);\n  const [title, setTitle] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n  const [updateMode, setUpdateMode] = useState(false);\n\n  useEffect(() => {\n    const getPost = async () => {\n      const res = await axios.get(`${pack.proxy}post/` + path);\n      setPost(res.data);\n      setTitle(res.data.title);\n      setDesc(res.data.desc);\n    };\n    getPost();\n  }, [path]);\n\n  const handleDelete = async () => {\n    try {\n      await axios.delete(`${pack.proxy}post/${post._id}`, {\n        data: { username: user.username },\n      });\n      window.location.replace(\"/\");\n    } catch (err) {}\n  };\n\n  const handleUpdate = async () => {\n    try {\n      await axios.put(`${pack.proxy}post/${post._id}`, {\n        username: user.username,\n        title,\n        desc,\n      });\n      setUpdateMode(false)\n    } catch (err) {}\n  };\n\n  return (\n    <>\n    {/* <Topbar/> */}\n    <div className=\"singlePost\">\n      <div className=\"singlePostWrapper\">\n        {post.photo && (\n          <img src={PF + post.photo} alt=\"\" className=\"singlePostImg\" />\n        )}\n        {updateMode ? (\n          <input\n            type=\"text\"\n            value={title}\n            className=\"singlePostTitleInput\"\n            autoFocus\n            onChange={(e) => setTitle(e.target.value)}\n          />\n        ) : (\n          <h1 className=\"singlePostTitle\">\n            {title}\n            {post.username === user?.username && (\n              <div className=\"singlePostEdit\">\n                <i\n                  className=\"singlePostIcon far fa-edit\"\n                  onClick={() => setUpdateMode(true)}\n                ></i>\n                <i\n                  className=\"singlePostIcon far fa-trash-alt\"\n                  onClick={handleDelete}\n                ></i>\n              </div>\n            )}\n          </h1>\n        )}\n        <div className=\"singlePostInfo\">\n          <span className=\"singlePostAuthor\">\n            Author:\n            <Link to={`/?user=${post.username}`} className=\"link\">\n              <b> {post.username}</b>\n            </Link>\n          </span>\n          <span className=\"singlePostDate\">\n            {new Date(post.createdAt).toDateString()}\n          </span>\n        </div>\n        {updateMode ? (\n          <textarea\n            className=\"singlePostDescInput\"\n            value={desc}\n            onChange={(e) => setDesc(e.target.value)}\n          />\n        ) : (\n          <p className=\"singlePostDesc\">{desc}</p>\n        )}\n        {updateMode && (\n          <button className=\"singlePostButton\" onClick={handleUpdate}>\n            Update\n          </button>\n        )}\n      </div>\n    </div>\n    </>\n  );\n}\n","import Sidebar from \"../../components/sidebar/Sidebar\";\nimport SinglePost from \"../../components/singlePost/SinglePost\";\nimport \"./single.css\";\n\nexport default function Single() {\n  return (\n    <div className=\"single\">\n      <SinglePost />\n      <Sidebar />\n    </div>\n  );\n}\n","import { useContext, useState } from \"react\";\nimport \"./write.css\";\nimport axios from \"axios\";\nimport { Context } from \"../../context/context\";\nimport pack from \"../../../package.json\";\nimport Topbar from \"../../components/topbar/Topbar\";\nexport default function Write() {\n  const [title, setTitle] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const { user } = useContext(Context);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const newPost = {\n      username: user.username,\n      title,\n      desc,\n    };\n    if (file) {\n      const data =new FormData();\n      const filename = Date.now() + file.name;\n      data.append(\"name\", filename);\n      data.append(\"file\", file);\n      newPost.photo = filename;\n      try {\n        await axios.post(`${pack.proxy}upload`, data);\n      } catch (err) {}\n    }\n    try {\n      const res = await axios.post(`${pack.proxy}post`, newPost);\n      window.location.replace(\"/post/\" + res.data._id);\n    } catch (err) {}\n  };\n  return (\n    <>\n    <Topbar />\n    <div className=\"write\">\n      {file && (\n        <img className=\"writeImg\" src={URL.createObjectURL(file)} alt=\"\" />\n      )}\n      <form className=\"writeForm\" onSubmit={handleSubmit}>\n        <div className=\"writeFormGroup\">\n          <label htmlFor=\"fileInput\">\n            <i className=\"writeIcon fas fa-plus\"></i>\n          </label>\n          <input\n            type=\"file\"\n            id=\"fileInput\"\n            style={{ display: \"none\" }}\n            onChange={(e) => setFile(e.target.files[0])}\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Title\"\n            className=\"writeInput\"\n            autoFocus={true}\n            onChange={e=>setTitle(e.target.value)}\n          />\n        </div>\n        <div className=\"writeFormGroup\">\n          <textarea\n            placeholder=\"Tell your story...\"\n            type=\"text\"\n            className=\"writeInput writeText\"\n            onChange={e=>setDesc(e.target.value)}\n          ></textarea>\n        </div>\n        <button className=\"writeSubmit\" type=\"submit\">\n          Publish\n        </button>\n      </form>\n    </div>\n    </>\n  );\n}\n","// import Topbar from \"./components/topbar/Topbar\";\nimport Homepage from \"./pages/homepage/Homepage\";\nimport Login from \"./pages/login/Login\";\n import Register from \"./pages/register/Register\";\nimport Settings from \"./pages/settings/Settings\";\nimport Single from \"./pages/single/Single\";\nimport Write from \"./pages/write/Write\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { Context} from \"./context/context\"\nfunction App() {\n  const {user}=useContext(Context)\n  return (\n    <Router>\n      {/* <Topbar /> */}\n      <Switch>\n        {/* <Route exact path=\"/\">\n          <Homepage />\n        </Route> */}\n        {/* <Route path=\"/register\" ><Register/> </Route> */}\n        {/* {user ? <Homepage /> : <Register />} */}\n        <Route exact path=\"/\"> {user ? <Homepage /> : <Login />} </Route>\n        <Route exact path=\"/write\">{user ? <Write /> : <Login />}</Route>\n        {/* <Route exact path=\"/settings\">{user ? <Settings /> : <Login/>}</Route> */}\n        <Route exact path=\"/post/:postId\">\n        <Single />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { ContextProvider } from \"./context/context\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContextProvider>\n      <App />\n    </ContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}